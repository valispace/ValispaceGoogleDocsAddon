<!DOCTYPE html>
<html>
  <head>
    <base target="_top">
    <?!=HtmlService.createHtmlOutputFromFile('code/connectionDialog.css').getContent()?>
  </head>
  <body>
  <div class="login-container">
    
    <div>
    <img class="logo" src="https://www.valispace.com/wp-content/uploads/2018/06/valispace_logo_grey.png" width="50%" height="50%">
    </div>

    <form>
    <div class="input-label">
      <label for="deployment">Deployment Name<br></label>
    </div> 
    <div class="input-field">
      <input type="text" id="deployment" name="deployment" value="demo">
    </div>
    
    <div class="input-label">
      <label  for="username">Username<br></label>
    </div> 
    <div class="input-field">
      <input type="text" id="username" name="username">
    </div>

    <div class="input-label">
      <label for="pass">Password<br></label>
    </div>
    <div class="input-field">
      <input type="password" id="pass" name="password">
    </div>

    <div class="buttons-container">
      <input type="submit" value="Connect" class="login-button" onclick="connect()" >
      <input type="button" value="Close" class="login-button" onclick="closeIt()" >
    </div>  
  </form>

  </div>


    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js">
    </script>
    <script>
      function connect(){
        var username = 
        google.script.run
          .withSuccessHandler(closeIt)
          .withFailureHandler(function(error){
            alert(error);
          })
          .valispaceAskToken($('#deployment').val(), $('#username').val(), $('#pass').val());
      };
      
      function closeIt(){
        google.script.host.close()
      };
      
    </script>
  </body>
</html>